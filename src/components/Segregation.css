.segregation-group-card {
  min-width: 260px;
  max-width: 320px;
  width: 100%;
  box-sizing: border-box;
  margin-bottom: 12px;
}
@media (max-width: 600px) {
  .segregation-group-card {
    min-width: 90vw;
    max-width: 98vw;
  }
}
@media (max-width: 1200px) {
  .seg-row .segregation-arrows-col {
    margin-right: 48px !important;
  }
}
@media (max-width: 900px) {
  .seg-row .segregation-arrows-col {
    margin-right: 32px !important;
  }
}
@media (max-width: 768px) {
  .seg-row {
    flex-direction: row !important;
    flex-wrap: wrap !important;
    align-items: flex-start !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    gap: 0.5rem !important;
  }
  .seg-row > div {
    min-width: 40vw !important;
    width: auto !important;
    flex: 1 1 45vw !important;
    margin-bottom: 0 !important;
    margin-top: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    font-size: 15px !important;
  }
  .seg-row .mb-2 {
    margin-bottom: 0 !important;
  }
  .seg-row .mt-2.mt-md-0 {
    margin-top: 0 !important;
  }
  .seg-row input[type="number"] {
    width: 60px !important;
    font-size: 16px !important;
  }
  .seg-row .btn {
    font-size: 18px !important;
    min-width: 36px !important;
    width: 36px !important;
    height: 36px !important;
    padding: 0 !important;
  }
  .seg-row .btn-success {
    min-width: 90px !important;
    font-size: 15px !important;
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }
  .seg-row .segregation-arrows-col {
    gap: 16px !important;
    margin-right: 16px !important;
  }
  .seg-row .segregation-arrow-btn {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}
@media (max-width: 500px) {
  .seg-row .segregation-arrows-col {
    margin-right: 24px !important;
  }
}

/* --- Ensure action buttons (trash, arrows) always visible and aligned --- */
.seg-row {
  flex-wrap: nowrap !important;
  overflow-x: auto;
  align-items: center !important;
}
.seg-row > div {
  min-width: unset !important;
  flex: unset !important;
  margin-bottom: 0 !important;
  margin-top: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  font-size: 15px !important;
  white-space: nowrap;
}
.seg-row .segregation-action-col,
.seg-row .segregation-arrows-col {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 6px !important;
  min-width: 36px !important;
  flex: 0 0 36px !important;
}
.seg-row .btn,
.seg-row .btn-sm,
.seg-row .btn-outline-danger,
.seg-row .btn-outline-secondary {
  font-size: 15px !important;
  min-width: 28px !important;
  width: 28px !important;
  height: 28px !important;
  padding: 0 !important;
  border-radius: 6px !important;
  display: flex;
  align-items: center;
  justify-content: center;
}

@media (max-width: 900px) {
  .seg-row {
    flex-wrap: wrap !important;
  }
  .seg-row > div {
    min-width: 90px !important;
    flex: 1 1 100% !important;
    white-space: normal;
  }
  .seg-row .segregation-action-col,
  .seg-row .segregation-arrows-col {
    min-width: 36px !important;
    flex: 0 0 36px !important;
    gap: 6px !important;
  }
}

@media (max-width: 600px) {
  .seg-row > div {
    min-width: 70px !important;
  }
}

/* Center the main segregation page content */
.segregation-page {
  /* Use ~80% of the available viewport width but cap to the previous max for very large screens */
  width: 80vw;
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 16px;
  padding-right: 16px;
  transition: margin-left 0.3s ease, transform 0.3s ease;
  box-sizing: border-box;
}

/* When the errors sidebar is visible, center the 80vw container within the remaining area to the right of the sidebar */
.segregation-page.with-sidebar {
  /* Sidebar is 350px wide; compute the left margin so the page appears centered in the remaining space */
  margin-left: calc(350px + (100vw - 350px - 80vw) / 2);
}

/* On smaller screens, use full width with padding preserved */
@media (max-width: 768px) {
  .segregation-page {
    width: calc(100% - 32px);
    max-width: none;
  }
}

/* Ensure list groups and key panels stay centered within the page */
.list-group.list-group-flush.w-100 {
  margin-left: auto !important;
  margin-right: auto !important;
  width: 100%;
  max-width: 1000px;
}

/* Make sure summary and other top panels align to centered container */
@media (min-width: 576px) {
  .segregation-page .mb-4.p-4 {
    max-width: 1000px;
    margin-left: auto;
    margin-right: auto;
  }
}

/* Verification interface styles */
.verification-start-button {
  transition: all 0.3s ease;
  transform: scale(1);
}

.verification-start-button:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 25px rgba(0, 123, 255, 0.3);
}

.verification-error-banner {
  animation: slideDown 0.5s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.verification-client-card {
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.verification-client-card.verifying {
  border-color: #ffc107;
  box-shadow: 0 0 15px rgba(255, 193, 7, 0.3);
}

.verification-client-card.verified {
  border-color: #28a745;
  box-shadow: 0 0 15px rgba(40, 167, 69, 0.3);
}

.verification-input {
  transition: all 0.2s ease;
}

.verification-input:focus {
  border-color: #007bff;
  box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);
}

.verification-controls {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

@media (max-width: 768px) {
  .verification-controls {
    flex-direction: column;
    align-items: stretch;
    gap: 6px;
  }
  
  .verification-controls .btn {
    width: 100%;
    margin: 0;
  }
}

/* Single Client Focus Mode Styles */
.single-client-focus {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-radius: 16px;
  padding: 30px;
  margin: 20px auto;
  max-width: 600px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.client-verification-card {
  background: white;
  border-radius: 12px;
  padding: 25px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  border: 2px solid transparent;
  transition: all 0.3s ease;
}

.client-verification-card.verifying {
  border-color: #ffc107;
  box-shadow: 0 4px 20px rgba(255, 193, 7, 0.2);
  background: linear-gradient(135deg, #fff3cd 0%, #ffffff 100%);
}

.client-verification-card.verified {
  border-color: #28a745;
  box-shadow: 0 4px 20px rgba(40, 167, 69, 0.2);
  background: linear-gradient(135deg, #d4edda 0%, #ffffff 100%);
}

.progress-indicator {
  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
  color: white;
  border-radius: 20px;
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 700;
  display: inline-block;
  box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
}

.verification-input-large {
  border: 2px solid #007bff;
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0, 123, 255, 0.2);
  transition: all 0.2s ease;
}

.verification-input-large:focus {
  border-color: #0056b3;
  box-shadow: 0 0 20px rgba(0, 123, 255, 0.4);
  transform: scale(1.02);
}

.client-name-display {
  font-size: 28px;
  font-weight: 800;
  color: #007bff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  margin-bottom: 10px;
}

.verification-buttons {
  gap: 15px;
}

.verification-buttons .btn {
  border-radius: 8px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.verification-buttons .btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

@media (max-width: 768px) {
  .single-client-focus {
    margin: 10px;
    padding: 20px;
  }
  
  .client-name-display {
    font-size: 24px;
  }
  
  .verification-buttons {
    flex-direction: column;
    gap: 10px;
  }
  
  .verification-buttons .btn {
    width: 100%;
  }
}

/* User move tracking badges */
.user-move-badge {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 6px;
  background-color: #d4edda;
  border: 1px solid #c3e6cb;
  border-radius: 4px;
  color: #155724;
  white-space: nowrap;
  transition: all 0.2s ease;
}

.user-move-badge:hover {
  background-color: #c3e6cb;
  border-color: #b8e6c1;
  transform: scale(1.02);
  cursor: help;
}

.user-move-badge .user-icon {
  font-size: 10px;
  margin-right: 1px;
}

/* Responsive adjustments for user badges */
@media (max-width: 768px) {
  .user-move-badge {
    font-size: 10px;
    padding: 1px 4px;
  }
}

@media (max-width: 600px) {
  .user-move-badge {
    font-size: 9px;
    padding: 1px 3px;
  }
}

/* Utility: make a card span the full viewport width while centered visually */
.full-viewport-card {
  position: relative;
  /* Span the entire viewport reliably */
  width: 100vw;
  max-width: none !important;
  /* Pull the element out of the centered container so it aligns with viewport edges */
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  box-sizing: border-box;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* When sidebar is visible, account for the sidebar offset so the card still starts at the left viewport edge */
.segregation-page.with-sidebar .full-viewport-card {
  /* Add the sidebar width to the left offset calculation */
  margin-left: calc(350px + 50% - 50vw);
  margin-right: calc(50% - 50vw);
}

/* On small screens the page becomes nearly full width; revert to container sizing */
@media (max-width: 768px) {
  .full-viewport-card {
    margin-left: 0;
    margin-right: 0;
    width: calc(100% - 32px);
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
}
